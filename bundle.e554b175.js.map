{"version":3,"sources":["src/Calendar.ts","src/bundle.ts"],"names":[],"mappings":"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","file":"bundle.e554b175.js","sourceRoot":"..","sourcesContent":["import { AbstractCalendarClasses } from \"./AbstractCalendar\";\n\nexport namespace CalendarClasses {\n  export enum Statuses {\n    NEW = \"new\",\n    DELETED = \"deleted\",\n    PENDING = \"pending\",\n    CLOSED = \"closed\",\n  }\n\n  export enum Tags {\n    IMPORTANT = \"#important\",\n    VERY_IMPORTANT = \"#very important\",\n    NOT_IMPORTANT = \"#not important\",\n  }\n\n  export enum Dbs {\n    LOCALSTORAGE = 0,\n    //another db\n  }\n  /* eslint-disable @typescript-eslint/no-explicit-any*/\n  type T = { [index: string]: any };\n\n  export class Record\n    implements\n      AbstractCalendarClasses.AbstractRecord,\n      AbstractCalendarClasses.AbstractInputRecord\n  {\n    /*private*/ _id = \"\";\n    /*private*/ _date = \"\";\n    /*private*/ _toDo = \"\";\n    /*private*/ _tag = \"\";\n    /*private*/ _status = \"\";\n\n    constructor(record: Partial<AbstractCalendarClasses.AbstractInputRecord>) {\n      record._status ??= CalendarClasses.Statuses.NEW;\n      for (const key in record) {\n        (this as T)[key] = (record as T)[key];\n      }\n    }\n\n    public isNeeded(property: string) {\n      for (const key in this) {\n        if ((this as T)[key] === property) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    public change(\n      record: Partial<AbstractCalendarClasses.AbstractInputRecord>\n    ) {\n      for (const key in record) {\n        (this as T)[key] = (record as T)[key];\n      }\n      return this;\n    }\n\n    get id() {\n      return this._id;\n    }\n\n    get date() {\n      return this._date;\n    }\n\n    set date(newDate: string) {\n      if (typeof newDate === \"string\") {\n        this._date = newDate;\n      }\n    }\n\n    get toDo() {\n      return this._toDo;\n    }\n\n    set toDo(newToDo: string) {\n      if (typeof newToDo === \"string\") {\n        this._toDo = newToDo;\n      }\n    }\n\n    get tag() {\n      return this._tag;\n    }\n\n    set tag(newTag: string) {\n      if (typeof newTag === \"string\") {\n        this._tag = newTag;\n      }\n    }\n\n    get status() {\n      return this._status;\n    }\n\n    set status(newStatus: string) {\n      if (typeof newStatus === \"string\") {\n        this._status = newStatus;\n      }\n    }\n  }\n\n  export class SortCondition\n    implements AbstractCalendarClasses.AbstractSortCondition\n  {\n    private _date: string | null;\n    private _toDo: string | null;\n    private _tag: string | null;\n    private _status: string | null;\n\n    constructor(record: Partial<AbstractCalendarClasses.AbstractInputRecord>) {\n      this._date = this._toDo = this._tag = this._status = null;\n      for (const key in record) {\n        (this as T)[key] = (record as T)[key];\n      }\n    }\n\n    public isEqual(record: Record) {\n      return (\n        record.date === this._date ||\n        record.toDo === this._toDo ||\n        record.tag === this._tag ||\n        record.status === this._status\n      );\n    }\n\n    public isNotEqual(record: Record) {\n      return (\n        record.date !== this._date &&\n        record.toDo !== this._toDo &&\n        record.tag !== this._tag &&\n        record.status !== this._status\n      );\n    }\n  }\n\n  export class Calendar implements AbstractCalendarClasses.AbstractCalendar {\n    private _maxId: number;\n    private _localRecords: { [index: string]: Record };\n    private _name: string;\n    private _isAsync: boolean;\n\n    constructor(name: string, db?: string) {\n      this._name = name;\n      this._maxId = Number(window.localStorage.getItem(`maxId_${this._name}`));\n      if (isNaN(this._maxId)) {\n        this._maxId = 0;\n        window.localStorage.setItem(`maxId_${this._name}`, \"0\");\n      }\n      this._localRecords = {};\n      this._isAsync = Boolean(db);\n    }\n\n    private async _readOne(id: string) {\n      let record: Record | null = null;\n      if (this._isAsync) {\n        //await async operation\n      } else {\n        if (this._localRecords[id]) {\n          record = this._localRecords[id];\n        } else {\n          const str = window.localStorage.getItem(id);\n          if (str) {\n            record = new Record(JSON.parse(str));\n            this._localRecords[id] = record;\n          }\n        }\n      }\n      return record;\n    }\n\n    private async _writeOne(record: Record) {\n      if (this._isAsync) {\n        //await async operation\n      } else {\n        const id = record.id;\n        if (!window.localStorage.getItem(id)) {\n          window.localStorage.setItem(\n            `maxId_${this._name}`,\n            String(this._maxId)\n          );\n        }\n\n        this._localRecords[id] = record;\n        window.localStorage.setItem(id, JSON.stringify(record));\n      }\n      return record;\n    }\n\n    public async create(toDo: string, tag?: string, date?: string) {\n      const day = date ? date : new Date().toLocaleDateString();\n      tag ??= \"\";\n      //this._maxId++;\n      return await this._writeOne(\n        new Record({\n          _date: day,\n          _toDo: toDo,\n          _tag: tag,\n          _id: `${this._maxId++}_${this._name}`,\n        })\n      );\n    }\n\n    public async read(property: string) {\n      const rslt: Record[] = [];\n      const maxId = this._maxId;\n\n      for (let i = 0; i < maxId; i++) {\n        const record = await this._readOne(`${i}_${this._name}`);\n        record && record.isNeeded(property) && rslt.push(record);\n      }\n\n      return rslt.length ? rslt : null;\n    }\n\n    public async update(\n      id: string,\n      newRecord: Partial<AbstractCalendarClasses.AbstractInputRecord>\n    ) {\n      const record = await this._readOne(String(id));\n      return record ? await this._writeOne(record.change(newRecord)) : null;\n    }\n\n    public async delete(id: string) {\n      const record = await this._readOne(String(id));\n      return record\n        ? await this._writeOne(\n            record.change({ _status: CalendarClasses.Statuses.DELETED })\n          )\n        : null;\n    }\n\n    public static filter(\n      records: Record[],\n      cfgObjEq: CalendarClasses.SortCondition,\n      cfgObjNEq: CalendarClasses.SortCondition\n    ) {\n      return records.filter((el: Record) => {\n        return cfgObjEq.isEqual(el) && cfgObjNEq.isNotEqual(el);\n      });\n    }\n\n    public async clear() {\n      if (this._isAsync) {\n        //await async operation\n      } else {\n        for (let i = 0; i < this._maxId; i++) {\n          window.localStorage.removeItem(`${i}_${this._name}`);\n        }\n        window.localStorage.removeItem(`maxId_${this._name}`);\n      }\n      this._maxId = 0;\n      this._localRecords = {};\n      return true;\n    }\n  }\n}\n","import { CalendarClasses } from \"./Calendar\";\n\n(async () => {\n  const calendar = new CalendarClasses.Calendar(\"first\");\n  const calendar_ = new CalendarClasses.Calendar(\"Second\");\n  await calendar.clear();\n  await calendar_.clear();\n  console.log(\"Tasks for first calendar:\");\n  console.log(\n    await calendar.create(\"Задача номер один\", CalendarClasses.Tags.IMPORTANT)\n  );\n  console.log(\n    await calendar.create(\"Задача номер два\", CalendarClasses.Tags.IMPORTANT)\n  );\n  console.log(\n    await calendar.create(\n      \"Задача номер три\",\n      CalendarClasses.Tags.NOT_IMPORTANT,\n      \"2022.12.31\"\n    )\n  );\n  console.log(\"Tasks for second calendar:\");\n  console.log(\n    await calendar_.create(\n      \"Задача второго календаря\",\n      CalendarClasses.Tags.NOT_IMPORTANT\n    )\n  );\n\n  let records = await calendar.read(CalendarClasses.Tags.IMPORTANT);\n  console.log(\n    \"All records selected by certain tag at the first calendar: \",\n    records\n  );\n  if (records) {\n    const filteredRecords = CalendarClasses.Calendar.filter(\n      records,\n      new CalendarClasses.SortCondition({ _toDo: \"Задача номер один\" }),\n      new CalendarClasses.SortCondition({})\n    );\n    console.log(\"All filtered records: \", filteredRecords);\n\n    filteredRecords[0] &&\n      calendar.update(filteredRecords[0].id, {\n        _toDo: \"Очень важная задача №1\",\n        _status: CalendarClasses.Statuses.PENDING,\n      });\n  }\n  const updatedRecords = await calendar.read(CalendarClasses.Tags.IMPORTANT);\n  console.log(\n    \"Records with one, whos field has been updated at the first calendar: \",\n    updatedRecords\n  );\n  await calendar.clear();\n  console.log(\"Now the first calendar is clear\");\n  records = await calendar_.read(CalendarClasses.Tags.NOT_IMPORTANT);\n  console.log(\n    \"All records selected by certain tag at the second calendar: \",\n    records\n  );\n})();\n"]}